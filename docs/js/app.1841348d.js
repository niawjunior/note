(function(t){function e(e){for(var a,r,s=e[0],l=e[1],u=e[2],d=0,m=[];d<s.length;d++)r=s[d],i[r]&&m.push(i[r][0]),i[r]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(t[a]=l[a]);c&&c(e);while(m.length)m.shift()();return o.push.apply(o,u||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],a=!0,s=1;s<n.length;s++){var l=n[s];0!==i[l]&&(a=!1)}a&&(o.splice(e--,1),t=r(r.s=n[0]))}return t}var a={},i={app:0},o=[];function r(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=t,r.c=a,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)r.d(n,a,function(e){return t[e]}.bind(null,a));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=e,s=s.slice();for(var u=0;u<s.length;u++)e(s[u]);var c=l;o.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"039a":function(t,e,n){"use strict";var a=n("3760"),i=n.n(a);i.a},3760:function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("f751"),n("097d");var a=n("2b0e"),i=n("8c4f"),o=(n("cabf"),n("96d3"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("Nav"),n("router-view")],1)}),r=[],s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("md-toolbar",{staticClass:"md-primary",attrs:{"md-elevation":"1"}},[n("div",{staticClass:"md-toolbar-section-start"},[n("md-button",{attrs:{to:"/"}},[t._v("โน๊ต")])],1),t.navLoad?n("div",{staticClass:"md-toolbar-section-end"},[t.isAuth?t._e():n("md-button",{attrs:{to:"/login"}},[t._v("เข้าสู่ระบบ")]),t.isAuth?n("md-button",{attrs:{to:"/add"}},[t._v("เพิ่มโน๊ต")]):t._e(),t.isAuth?n("md-button",{attrs:{to:""},on:{click:t.logout}},[t._v("ออกจากระบบ")]):t._e()],1):t._e()])],1)},l=[],u={methods:{logout:function(){var t=this;this.$store.dispatch("logout").then(function(){t.$router.push({path:"login"})})}},computed:{isAuth:function(){return this.$store.getters.login},navLoad:function(){return this.$store.state.load}}},c=u,d=(n("5b49"),n("2877")),m=Object(d["a"])(c,s,l,!1,null,null,null),f=m.exports,p={name:"app",components:{Nav:f}},h=p,v=Object(d["a"])(h,o,r,!1,null,null,null),b=v.exports,g=n("43f9"),_=n.n(g),w=n("2f62"),y=n("8aa5"),O=(n("e71f"),{apiKey:"AIzaSyAuddW0ZvYCoK-Zn4v3-I4uBYcRMEUIBGg",authDomain:"note-6f627.firebaseapp.com",databaseURL:"https://note-6f627.firebaseio.com",projectId:"note-6f627",storageBucket:"",messagingSenderId:"709206152306",appId:"1:709206152306:web:f36f25cf7322e765"});y["initializeApp"](O).firestore();var S={login:function(t){return new Promise(function(e,n){y["auth"]().signInWithEmailAndPassword(t.email,t.password).then(function(t){t&&e(t)}).catch(function(t){n(t)})})},isAuth:function(){return new Promise(function(t,e){y["auth"]().onAuthStateChanged(function(e){t(!!e)},function(t){e(t)})})},logout:function(){return new Promise(function(t,e){return y["auth"]().signOut().then(function(){t(null)}).catch(function(t){e(t)})})}};a["default"].use(w["a"]);var x=new w["a"].Store({state:{notes:[],user:!1,load:!1},getters:{login:function(t){return t.user}},mutations:{LOGIN:function(t,e){t.user=e},AUTH:function(t,e){t.user=e,t.load=!0},LOGOUT:function(t,e){t.user=e}},actions:{login:function(t,e){var n=this,a=t.commit;return new Promise(function(t,i){return S.login(e).then(function(){a("LOGIN",!0),t(n.getters.login)}).catch(function(t){i(t.code)})})},auth:function(t){var e=this,n=t.commit;return new Promise(function(t,a){return S.isAuth().then(function(a){n("AUTH",a),t(e.getters.login)}).catch(function(t){a(t)})})},logout:function(t){var e=t.commit;return new Promise(function(t,n){return S.logout().then(function(){e("LOGOUT",!1),t()}).catch(function(t){n(t)})})}}}),$=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"md-layout md-alignment-top-center"},[n("div",{staticClass:"md-layout-item md-size-70",staticStyle:{"margin-top":"1rem"}},[n("form",{on:{submit:function(e){return e.preventDefault(),t.login(e)}}},[n("md-field",[n("label",[t._v("อีเมล")]),n("md-icon",[t._v("email")]),n("md-input",{directives:[{name:"validate",rawName:"v-validate",value:"required|email",expression:"'required|email'"},{name:"focus",rawName:"v-focus"}],attrs:{name:"email",placeholder:"Email"},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}})],1),n("p",[t._v(t._s(t.errors.first("email")))]),n("md-field",[n("label",[t._v("รหัสผ่าน")]),n("md-icon",[t._v("lock")]),n("md-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{type:"password",name:"password",placeholder:"Password"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1),n("p",[t._v(t._s(t.errors.first("password")))]),n("div",{staticStyle:{float:"right"}},[n("md-button",{staticClass:"md-raised md-primary",attrs:{type:"submit",disabled:t.isDisabled||t.isEmpty||t.isClick}},[t._v("\n          เข้าสู่ระบบ\n        ")])],1)],1)])]),n("notifications",{attrs:{group:"foo",position:"bottom right","animation-type":"velocity"}})],1)},C=[],k={data:function(){return{email:"",password:"",isEmpty:!0,show:!1,textDialog:"error",isClick:!1}},methods:{login:function(){var t=this;this.isClick=!0,this.$store.dispatch("login",{email:this.email,password:this.password}).then(function(){t.isClick=!1,t.$notify({group:"foo",type:"success",title:"แจ้งเตือน!",text:"ยินดีต้อนรับ!",duration:4e3,speed:1e3}),t.$router.push({path:"/"})}).catch(function(e){t.isClick=!1,"auth/user-not-found"===e||"auth/wrong-password"===e?t.$notify({group:"foo",type:"warn",title:"แจ้งเตือน!",text:"ชื่อ หรือ รหัสผ่าน ไม่ถูกต้อง!",duration:4e3,speed:1e3}):t.$notify({group:"foo",type:"warn",title:"แจ้งเตือน!",text:"มีบางอย่างผิดพลาด กรุณาลองใหม่อีกครั้ง",duration:4e3,speed:1e3})})}},computed:{isDisabled:function(){var t=!0;return t=!(!this.errors.has("email")&&!this.errors.has("password")),t},loginStatus:function(){var t=!1;return this.$store.getters.login&&(t=!this.$store.getters.login.status),t}},watch:{email:function(){this.email&&this.password&&(this.isEmpty=!1)},password:function(){this.email&&this.password&&(this.isEmpty=!1)}}},A=k,E=(n("039a"),Object(d["a"])(A,$,C,!1,null,null,null)),j=E.exports,P=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"md-layout md-alignment-top-center"},[n("div",{staticClass:"md-layout-item md-size-60",staticStyle:{"text-align":"center"}},[n("Search"),n("Tags")],1)]),n("div",{staticClass:"md-layout md-alignment-top-center"},[n("div",{staticClass:"md-layout-item md-size-90",staticStyle:{"margin-top":"1rem"}},[n("Note")],1)])])},T=[],I=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("md-table",[n("md-table-row",[n("md-table-head",[t._v("วันที่/เวลา")]),n("md-table-head",[t._v("ชื่อโน๊ต")]),n("md-table-head",[t._v("คำอธิบาย")]),n("md-table-head",[t._v("หมวดหมู่")]),n("md-table-head",[t._v("ประเภท")]),n("md-table-head",[t._v("ลิ้งค์")])],1),n("md-table-row",[n("md-table-cell",[t._v("02/06/2019 12:32")]),n("md-table-cell",[t._v("JavaScript พื้นฐาน")]),n("md-table-cell",[t._v("สอนเขียน JavaScript")]),n("md-table-cell",[t._v("JavaScript")]),n("md-table-cell",[t._v("บทความ")]),n("md-table-cell",[n("a",{attrs:{href:"www.google.com"}},[t._v("www.google.com")])])],1),n("md-table-row",[n("md-table-cell",[t._v("04/06/2019 09:10")]),n("md-table-cell",[t._v("Angular พื้นฐาน")]),n("md-table-cell",[t._v("สอนเขียน Angular")]),n("md-table-cell",[t._v("Angular")]),n("md-table-cell",[t._v("วีดีโอ")]),n("md-table-cell",[n("a",{attrs:{href:"www.youtube.com"}},[t._v("www.youtube.com")])])],1)],1)],1)},N=[],L={},U=L,J=Object(d["a"])(U,I,N,!1,null,"4e0c2e17",null),z=J.exports,D=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("md-field",[n("label",[t._v("ค้นหา")]),n("md-input",{attrs:{placeholder:"พิมพ์คำที่คุณต้องการค้นหา.."}}),n("md-icon",{staticStyle:{cursor:"pointer"}},[t._v("search")])],1)],1)},G=[],M={},q=M,B=Object(d["a"])(q,D,G,!1,null,"acbb925a",null),H=B.exports,K=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticStyle:{padding:".2rem",display:"inline-block"}},[n("md-chip",{staticClass:"md-accent",attrs:{"md-clickable":""}},[t._v("JavaScript (100)")])],1),n("div",{staticStyle:{padding:".2rem",display:"inline-block"}},[n("md-chip",{staticClass:"md-accent",attrs:{"md-clickable":""}},[t._v("Angular (35)")])],1),n("div",{staticStyle:{padding:".2rem",display:"inline-block"}},[n("md-chip",{staticClass:"md-accent",attrs:{"md-clickable":""}},[t._v("ทั่วไป (30)")])],1)])},R=[],W={},Y=W,Z=Object(d["a"])(Y,K,R,!1,null,"7aaf71e6",null),F=Z.exports,Q={components:{Note:z,Search:H,Tags:F}},V=Q,X=Object(d["a"])(V,P,T,!1,null,"adec0d52",null),tt=X.exports,et=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},nt=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("h1",[t._v("add")])])}],at={},it=at,ot=Object(d["a"])(it,et,nt,!1,null,"e29b90f4",null),rt=ot.exports,st={auth:function(t,e,n){x.dispatch("auth").then(function(t){t?n():n("/login")})},secure:function(t,e,n){x.dispatch("auth").then(function(t){t?n("/"):n()})}};a["default"].use(i["a"]);var lt=[{path:"*",component:tt},{path:"",component:tt},{path:"/add",component:rt,beforeEnter:st.auth},{path:"/login",component:j,beforeEnter:st.secure}],ut=new i["a"]({routes:lt,mode:"history"}),ct=(n("51de"),n("e094"),n("7bb1")),dt=n("3003"),mt=n("589d"),ft=n.n(mt),pt=n("ee98"),ht=n.n(pt);a["default"].use(dt["a"]),a["default"].config.productionTip=!1,a["default"].use(ct["a"]),a["default"].use(_.a),a["default"].use(i["a"]),a["default"].use(ht.a,{velocity:ft.a}),a["default"].directive("focus",{inserted:function(t){t.focus()}}),new a["default"]({store:x,router:ut,created:function(){S.isAuth().then(function(t){x.commit("AUTH",t)})},render:function(t){return t(b)}}).$mount("#app")},"5b49":function(t,e,n){"use strict";var a=n("5d26"),i=n.n(a);i.a},"5d26":function(t,e,n){}});
//# sourceMappingURL=app.1841348d.js.map